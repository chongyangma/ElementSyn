version: {build}

os:
  - Visual Studio 2015

platform:
  - Win32
  #- x64

test: off

clone_folder: C:\projects\ElementSyn

branches:
  only:
    - master

install:
  - git submodule update --init --recursive

build_script:
  - cd C:\projects\ElementSyn
  - md build
  - cd build
  - if "%platform%"=="Win32" set CMAKE_GENERATOR_NAME=Visual Studio 14 2015
  - if "%platform%"=="x64"   set CMAKE_GENERATOR_NAME=Visual Studio 14 2015 Win64
  - cmake -G "%CMAKE_GENERATOR_NAME%" -DCMAKE_BUILD_TYPE=%configuration% ../
  - msbuild %MSBuildOptions% ElementSyn.sln
